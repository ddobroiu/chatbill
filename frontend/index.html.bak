<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatBill - Chat & Facturare</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Modal pentru selectare/creare companie -->
    <div id="companyModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Selectează sau Creează Companie</h2>
            
            <div class="search-section">
                <h3>Căutare după CUI</h3>
                <div class="search-cui">
                    <input type="text" id="cuiSearch" placeholder="Introdu CUI (ex: 12345678)" />
                    <button id="searchCUIBtn" class="btn-primary">Caută</button>
                </div>
                <div id="searchResult" class="search-result"></div>
            </div>

            <div class="divider">SAU</div>

            <div class="company-form">
                <h3>Completează manual</h3>
                <form id="companyForm">
                    <div class="form-row">
                        <label>CUI *</label>
                        <input type="text" id="companyCUI" required />
                    </div>
                    <div class="form-row">
                        <label>Nume companie *</label>
                        <input type="text" id="companyName" required />
                    </div>
                    <div class="form-row">
                        <label>Adresă</label>
                        <input type="text" id="companyAddress" />
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <label>Oraș</label>
                            <input type="text" id="companyCity" />
                        </div>
                        <div class="form-col">
                            <label>Județ</label>
                            <input type="text" id="companyCounty" />
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <label>Email</label>
                            <input type="email" id="companyEmail" />
                        </div>
                        <div class="form-col">
                            <label>Telefon</label>
                            <input type="tel" id="companyPhone" />
                        </div>
                    </div>
                    <div class="form-row">
                        <label>Reg. Com.</label>
                        <input type="text" id="companyRegCom" />
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Salvează și Continuă</button>
                        <button type="button" id="cancelCompanyBtn" class="btn-secondary">Anulează</button>
                    </div>
                </form>
            </div>

            <div class="existing-companies">
                <h3>Sau selectează din companii existente</h3>
                <div id="companiesList" class="companies-list"></div>
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>ChatBill</h1>
            <p>Chat cu generare automată de facturi</p>
        </header>

        <div class="main-content">
            <!-- Sidebar cu conversații -->
            <aside class="conversations-sidebar">
                <div class="sidebar-header">
                    <h2>Conversații</h2>
                    <button id="newConversationBtn" class="btn-primary">+ Conversație Nouă</button>
                </div>
                <div id="conversationsList" class="conversations-list">
                    <!-- Conversațiile vor fi populate dinamic -->
                </div>
            </aside>

            <!-- Zona de chat -->
            <main class="chat-area">
                <div class="chat-header">
                    <div>
                        <h3 id="currentConversationTitle">Selectează o conversație</h3>
                        <p id="currentCompanyInfo" class="company-info"></p>
                    </div>
                    <button id="generateInvoiceBtn" class="btn-success" disabled>Generează Factură</button>
                </div>
                
                <div id="messagesContainer" class="messages-container">
                    <!-- Mesajele vor fi populate dinamic -->
                </div>

                <div class="message-input-area">
                    <input 
                        type="text" 
                        id="messageInput" 
                        placeholder="Scrie un mesaj..." 
                        disabled
                    />
                    <button id="sendMessageBtn" class="btn-primary" disabled>Trimite</button>
                </div>
            </main>

            <!-- Panoul pentru facturi -->
            <aside class="invoices-sidebar">
                <div class="sidebar-header">
                    <h2>Facturi</h2>
                </div>
                <div id="invoicesList" class="invoices-list">
                    <!-- Facturile vor fi populate dinamic -->
                </div>
            </aside>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
